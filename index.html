<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Create, manage, and organize tasks easily with our Todo List app. Stay productive by adding daily or weekly tasks, marking them as completed, and filtering them based on completion or repeat status." />
    <meta name="keywords" content="Todo List, Task Manager, Productivity, React, Daily Tasks, Weekly Tasks, Task Tracker, Task Management, Organize Tasks, To-Do App, Productivity App, Task Filter, Task Organizer, Organize To-Dos, Todo Application, React Task App, Task Scheduling" />
    <meta name="author" content="Darshan Navadiya" />

    <meta property="og:title" content="Todos | Darshan Navadiya" />
    <meta property="og:description" content="Create, manage, and organize tasks with ease. Stay on top of your daily or weekly tasks and enhance your productivity with this user-friendly Todo list app." />
    <meta property="og:image" content="/public/logo.png" />
    <meta property="og:url" content="https://digi-todos.netlify.app/" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Todos App" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Todos | Darshan Navadiya" />
    <meta name="twitter:description" content="Stay organized and productive with this easy-to-use Todo List app. Track your daily and weekly tasks with a simple, user-friendly interface." />
    <meta name="twitter:image" content="/public/logo.png" />
    <!-- <meta name="twitter:site" content="@darshannavadiya" /> -->

    <!-- <meta property="fb:app_id" content="your_facebook_app_id" /> -->
    <!-- <meta name="twitter:creator" content="@darshannavadiya" /> -->
    <meta name="google-site-verification" content="your_google_site_verification_code" />

    <title>Todos | Darshan Navadiya</title>
    <link rel="icon" type="image/png" href="/public/logo.png" />
    <link rel="manifest" href="/manifest.webmanifest" />
    <style>
      @keyframes up-down {
        form{
          transform: translateY(-3px);
        }
        to {
          transform: translateY(3px);
        }
      }
      #downloadButton {
          position: fixed;
          bottom: 20px;
          right: 1rem;
          padding: 12px 12px;
          background-color: #007BFF;
          color: white;
          border: none;
          border-radius: 50%;
          cursor: pointer;
          display: block;
          box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
          z-index: 10001;
          animation: up-down .8s infinite alternate linear;
      }
  </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <button id="downloadButton">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-down-to-line-icon lucide-arrow-down-to-line"><path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/></svg>
    </button>
    <script>
      // Check if the browser supports the PWA installation
      let installPromptEvent;

      // Listen for the 'beforeinstallprompt' event to trigger the installation prompt
      window.addEventListener('beforeinstallprompt', (event) => {
          // Prevent the default browser prompt
          event.preventDefault();

          // Store the event so we can trigger it later
          installPromptEvent = event;
      
          // Show the download button
          const downloadButton = document.getElementById('downloadButton');
          downloadButton.style.display = 'block'; // Display button
      
          // Add click event to the download button
          downloadButton.addEventListener('click', () => {
              // Show the installation prompt when the button is clicked
              installPromptEvent.prompt();
          
              // Wait for the user to respond to the prompt
              installPromptEvent.userChoice.then((choiceResult) => {
                  if (choiceResult.outcome === 'accepted') {
                      console.log('User accepted the PWA installation');
                  } else {
                      console.log('User dismissed the PWA installation');
                  }
                
                  // Reset the event after the prompt is shown
                  installPromptEvent = null;
              });
          });
      });

      // Optionally, listen for the 'appinstalled' event to confirm successful installation
      window.addEventListener('appinstalled', () => {
          console.log('PWA was installed');
      });
    </script>
  </body>
</html>
